<!DOCTYPE html>
<html>
<head>
  <title>Registration Form</title>
  <style>
    label { display: block; margin-top: 10px; }
    .error { color: red; }
  </style>
</head>
<body>

<h2>Registration Form</h2>

<form onsubmit="return validateForm()">
  <label>Name: <input type="text" id="name"></label>
  <label>Username: <input type="text" id="username"></label>
  <label>Password: <input type="password" id="password"></label>
  <label>Confirm Password: <input type="password" id="confirmPassword"></label>
  <label>Year of Birth: <input type="number" id="year"></label>
  <label>Email: <input type="text" id="email"></label>
  <label><input type="checkbox" id="agree"> I agree to the terms and conditions</label>
  <br><button type="submit">Submit</button>
  <p class="error" id="errorMsg"></p>
</form>

<script>
  function validateForm() {
    const username = document.getElementById("username").value.trim();
    const password = document.getElementById("password").value;
    const confirmPassword = document.getElementById("confirmPassword").value;
    const year = document.getElementById("year").value;
    const email = document.getElementById("email").value.trim();
    const agree = document.getElementById("agree").checked;
    const error = document.getElementById("errorMsg");

    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    if (!username || !password || !confirmPassword || !email) {
      error.textContent = "All fields are required.";
      return false;
    }

    if (password !== confirmPassword) {
      error.textContent = "Passwords do not match.";
      return false;
    }

    if (!emailPattern.test(email)) {
      error.textContent = "Invalid email format.";
      return false;
    }

    if (year.length !== 4 || year < 1900 || year > 2000) {
      error.textContent = "Year of birth must be between 1900 and 2000.";
      return false;
    }

    if (!agree) {
      error.textContent = "You must agree to the terms and conditions.";
      return false;
    }

    alert("Registration successful!");
    return true;
  }
</script>

</body>
</html>
